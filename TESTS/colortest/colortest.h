#pragma once
#ifndef __COLORTEST_H
#define __COLORTEST_H

/*
 * This product includes color specifications and designs developed by 
 * Cynthia Brewer (http://colorbrewer.org/).
 *
 * "Spectral" diverging color palette
 * 
 *      Cynthia Brewer (Pennsylvania State University)
 *      Mark Harrower (University of Wisconsin-Madison)
 *
 */

#include <stdint.h>
#include "stdgfx.h"
#include "hexcolor.h"

#define MAXRAMPLEN 32

enum {_R_, _G_, _B_};

#define NRAMPS 47

struct triplet_t { uint32_t r; uint32_t g; uint32_t b; };

struct palette_t {
        char name[100];
        int len;
        struct triplet_t *rgb;
};

enum ramptags { 
        SPECTRAL3,
        SPECTRAL4,
        SPECTRAL5,
        SPECTRAL6,
        SPECTRAL7,
        SPECTRAL8,
        SPECTRAL9,
        SPECTRAL10,
        SPECTRAL11,
        BRBG3,
        BRBG4,
        BRBG5,
        BRBG6,
        BRBG7,
        BRBG8,
        BRBG9,
        BRBG10,
        BRBG11,
        WIKI20,
        NORDISK,
        GMT_HAXBY,
        GREY3,
        GREY4,
        GREY5,
        GREY6,
        GREY7,
        GREY8,
        GREY9,
        HUMIDITY,
        RAINFALL,
        MEYERS,
        PRECIP11,
        PRECIP12,
        RYB3,
        RYB4,
        RYB5,
        RYB6,
        RYB7,
        RYB8,
        RYB9,
        RYB10,
        RYB11,
        SEMIHAX,
        TEMP18,
        TEMP19,
        WIKIICE,
        VOXPOP
};

//static struct palette_t ramp[NRAMPS]={

        //{ "Spectral 03", 3, 
                //{{ 988,  553,  349}, 
                 //{1000, 1000,  749}, 
                 //{ 600,  835,  580}}
        //},
        //{ "Spectral 04", 4, 
                //{{ 843,   98,  110}, 
                 //{ 992,  682,  380}, 
                 //{ 671,  867,  643}, 
                 //{ 169,  514,  729}}
        //},
        //{ "Spectral 05", 5,
                //{{ 843,   98,  110}, 
                 //{ 992,  682,  380}, 
                 //{1000, 1000,  749}, 
                 //{ 671,  867,  643}, 
                 //{ 169,  514,  729}}
        //},
        //{ "Spectral 06", 6,
                //{{ 835,  243,  310},
                 //{ 988,  553,  349},
                 //{ 996,  878,  545},
                 //{ 902,  961,  596},
                 //{ 600,  835,  580},
                 //{ 196,  533,  741}}
        //},
        //{ "Spectral 07", 7,
                //{{ 835,  243,  310}, 
                 //{ 988,  553,  349},
                 //{ 996,  878,  545}, 
                 //{1000, 1000,  749},
                 //{ 902,  961,  596}, 
                 //{ 600,  835,  580}, 
                 //{ 196,  533,  741}}
        //},
        //{ "Spectral 08", 8,
                //{{ 835,  243,  310}, 
                 //{ 957,  427,  263}, 
                 //{ 992,  682,  380}, 
                 //{ 996,  878,  545}, 
                 //{ 902,  961,  596}, 
                 //{ 671,  867,  643}, 
                 //{ 400,  761,  647}, 
                 //{ 196,  533,  741}}
        //},
        //{ "Spectral 09", 9
                //{{ 835,  243,  310}, 
                 //{ 957,  427,  263}, 
                 //{ 992,  682,  380}, 
                 //{ 996,  878,  545}, 
                 //{1000, 1000,  749}, 
                 //{ 902,  961,  596}, 
                 //{ 671,  867,  643}, 
                 //{ 400,  761,  647},
                 //{ 196,  533,  741}}
        //},
        //{ "Spectral 10", 10,
                //{{ 620,    3,  259}, 
                 //{ 835,  243,  310}, 
                 //{ 957,  427,  263}, 
                 //{ 992,  682,  380}, 
                 //{ 996,  878,  545}, 
                 //{ 902,  961,  596}, 
                 //{ 671,  867,  643}, 
                 //{ 400,  761,  647}, 
                 //{ 196,  533,  741}, 
                 //{ 369,  310,  635}}
        //},
        //{ "Spectral 11", 11,
                //{{ 620,    4,  259},
                 //{ 835,  243,  310},
                 //{ 957,  427,  263},
                 //{ 992,  682,  380},
                 //{ 996,  878,  545},
                 //{1000, 1000,  749},
                 //{ 902,  961,  596},
                 //{ 671,  867,  643},
                 //{ 400,  761,  647},
                 //{ 196,  533,  741},
                 //{ 369,  310,  635}}
        //},
        //{ "BrBg 03", 3,
                //{{ 847,  702,  396},
                 //{ 961,  961,  961},
                 //{ 353,  706,  675}}
        //},
        //{ "BrBg 04", 4,
                //{{ 651,  380,  102},
                 //{ 875,  761,  490},
                 //{ 502,  804,  757},
                 //{   4,  522,  443}}
        //},
        //{ "BrBg 05", 5,
                //{{ 651,  380,  102},
                 //{ 875,  761,  490},
                 //{ 961,  961,  961},
                 //{ 502,  804,  757},
                 //{   4,  522,  443}}
        //},
        //{ "BrBg 06", 6,
                //{{ 549,  318,   39},
                 //{ 847,  702,  396},
                 //{ 965,  910,  765},
                 //{ 780,  918,  898},
                 //{ 353,  706,  675},
                 //{   4,  400,  369}}
        //},
        //{ "BrBg 07", 7,
                //{{ 549,  318,   39},
                 //{ 847,  702,  396},
                 //{ 965,  910,  765},
                 //{ 961,  961,  961},
                 //{ 780,  918,  898},
                 //{ 353,  706,  675},
                 //{   4,  400,  369}}
        //},
        //{ "BrBg 08", 8,
                //{{ 549,  318,   39},
                 //{ 749,  506,  176},
                 //{ 875,  761,  490},
                 //{ 965,  910,  765},
                 //{ 780,  918,  898},
                 //{ 502,  804,  757},
                 //{ 208,  592,  561},
                 //{   4,  400,  369}}
        //},
        //{ "BrBg 09", 9,
                //{{ 549,  318,   39},
                 //{ 749,  506,  176},
                 //{ 875,  761,  490},
                 //{ 965,  910,  765},
                 //{ 961,  961,  961},
                 //{ 780,  918,  898},
                 //{ 502,  804,  757},
                 //{ 208,  592,  561},
                 //{   4,  400,  369}}
        //},
        //{ "BrBg 10", 10,
                //{{ 329,  188,   20},
                 //{ 549,  318,   39},
                 //{ 749,  506,  176},
                 //{ 875,  761,  490},
                 //{ 965,  910,  765},
                 //{ 780,  918,  898},
                 //{ 502,  804,  757},
                 //{ 208,  592,  561},
                 //{   4,  400,  369},
                 //{   0,  235,  188}}
        //},
        //{ "BrBg 11", 11,
                //{{ 329,  188,   20},
                 //{ 549,  318,   39},
                 //{ 749,  506,  176},
                 //{ 875,  761,  490},
                 //{ 965,  910,  765},
                 //{ 961,  961,  961},
                 //{ 780,  918,  898},
                 //{ 502,  804,  757},
                 //{ 208,  592,  561},
                 //{   4,  400,  369},
                 //{   0,  235,  188}}
        //},
        //{ "Wiki 2.0", 29,
                //{{ 443,  671,  847},
                 //{ 475,  698,  871},
                 //{ 518,  725,  890},
                 //{ 553,  757,  918},
                 //{ 588,  788,  941},
                 //{ 631,  824,  969},
                 //{ 675,  859,  984},
                 //{ 725,  890, 1000},
                 //{ 776,  925, 1000},
                 //{ 847,  949,  996},
                 //{ 675,  816,  647},
                 //{ 580,  749,  545},
                 //{ 659,  776,  561},
                 //{ 741,  800,  588},
                 //{ 820,  843,  671},
                 //{ 882,  894,  710},
                 //{ 937,  922,  753},
                 //{ 910,  882,  714},
                 //{ 871,  839,  639},
                 //{ 827,  792,  616},
                 //{ 792,  725,  510},
                 //{ 765,  655,  420},
                 //{ 725,  596,  353},
                 //{ 667,  529,  325},
                 //{ 675,  604,  486},
                 //{ 729,  682,  604},
                 //{ 792,  765,  722},
                 //{ 878,  871,  847},
                 //{ 961,  957,  949}}
        //},
        //{ "Nordisk Familjebok", 11,
                //{{ 424,  545,  553},
                 //{ 506,  624,  565},
                 //{ 663,  714,  635},
                 //{ 753,  776,  678},
                 //{ 902,  867,  800},
                 //{ 737,  733,  502},
                 //{ 812,  780,  600},
                 //{ 890,  761,  647},
                 //{ 843,  620,  471},
                 //{ 835,  510,  333},
                 //{ 365,  165,   75}}
        //},
        //{ "GMT Haxby", 32,
                //{{  39,    0,  475},
                 //{ 157,    0,  588},
                 //{  78,   20,  686},
                 //{   0,   39,  784},
                 //{   0,   98,  831},
                 //{   0,  157,  878},
                 //{ 102,  400,  941},
                 //{  51,  506,  973},
                 //{  98,  686, 1000},
                 //{ 196,  745, 1000},
                 //{ 267,  792, 1000},
                 //{ 380,  882,  941},
                 //{ 416,  922,  882},
                 //{ 486,  922,  784},
                 //{ 541,  925,  682},
                 //{ 675,  961,  659},
                 //{ 804, 1000,  635},
                 //{ 875,  961,  553},
                 //{ 941,  925,  475},
                 //{ 969,  843,  408},
                 //{1000,  741,  341},
                 //{1000,  627,  271},
                 //{ 957,  459,  294},
                 //{ 933,  314,  306},
                 //{1000,  353,  353},
                 //{1000,  486,  486},
                 //{1000,  620,  620},
                 //{ 961,  702,  682},
                 //{1000,  769,  769},
                 //{1000,  843,  843},
                 //{1000,  922,  922},
                 //{1000, 1000, 1000}}
        //},
        //{ "Grey 03", 3,
                //{{ 941,  941,  941},
                 //{ 741,  741,  741},
                 //{ 388,  388,  388}}
        //},
        //{ "Grey 04", 4,
                //{{ 969,  969,  969},
                 //{ 800,  800,  800},
                 //{ 588,  588,  588},
                 //{ 322,  322,  322}}
        //},
        //{ "Grey 05", 5,
                //{{ 969,  969,  969},
                 //{ 800,  800,  800},
                 //{ 588,  588,  588},
                 //{ 388,  388,  388},
                 //{ 145,  145,  145}}
        //},
        //{ "Grey 06", 6,
                //{{ 969,  969,  969},
                 //{ 851,  851,  851},
                 //{ 741,  741,  741},
                 //{ 588,  588,  588},
                 //{ 388,  388,  388},
                 //{ 145,  145,  145}}
        //},
        //{ "Grey 07", 7,
                //{{ 969,  969,  969},
                 //{ 851,  851,  851},
                 //{ 741,  741,  741},
                 //{ 588,  588,  588},
                 //{ 451,  451,  451},
                 //{ 322,  322,  322},
                 //{ 145,  145,  145}}
        //},
        //{ "Grey 08", 8,
                //{{1000, 1000, 1000},
                 //{ 941,  941,  941},
                 //{ 851,  851,  851},
                 //{ 741,  741,  741},
                 //{ 588,  588,  588},
                 //{ 451,  451,  451},
                 //{ 322,  322,  322},
                 //{ 145,  145,  145}}
        //},
        //{ "Grey 09", 9,
                //{{1000, 1000, 1000},
                 //{ 941,  941,  941},
                 //{ 851,  851,  851},
                 //{ 741,  741,  741},
                 //{ 588,  588,  588},
                 //{ 451,  451,  451},
                 //{ 322,  322,  322},
                 //{ 145,  145,  145},
                 //{   0,    0,    0}}
        //},
        //{ "Humidity", 25,
                //{{ 192,    0,  494},
                 //{   0,    0,  506},
                 //{   0,  196,  702},
                 //{   0,    0, 1000},
                 //{   0,  490, 1000},
                 //{   0,  741, 1000},
                 //{  90,  843,  545},
                 //{ 224,  678,  451},
                 //{ 165,  663,  165},
                 //{ 165,  784,  165},
                 //{   0, 1000,  192},
                 //{ 325, 1000,    0},
                 //{ 624, 1000,    0},
                 //{1000, 1000,    0},
                 //{1000,  800,    0},
                 //{1000,  596,    0},
                 //{1000,  396,    0},
                 //{1000,  329,    0},
                 //{1000,    0,    0},
                 //{1000,    0,  498},
                 //{1000,  133,  565},
                 //{1000,  369,  694},
                 //{1000,  525,  761},
                 //{1000,  682,  843},
                 //{1000,  843,  922}}
        //},
        //{ "Rainfall", 7,
                //{{ 898,  706,  173},
                 //{ 949,  706,  392},
                 //{ 953,  914,  467},
                 //{ 569,  808,  494},
                 //{ 263,  745,  529},
                 //{ 204,  706,  522},
                 //{  24,  608,  259}}
        //},
        //{ "Meyers", 11,
                //{{ 357,  549,  643},
                 //{ 471,  643,  718},
                 //{ 502,  678,  757},
                 //{ 573,  714,  765},
                 //{ 784,  859,  882},
                 //{ 698,  792,  600},
                 //{ 843,  878,  780},
                 //{ 816,  765,  706},
                 //{ 608,  451,  365},
                 //{ 392,  208,  125},
                 //{ 169,   39,   43}}
        //},
        //{ "Precipitation 11", 11,
                //{{1000, 1000, 1000},
                 //{ 929,  980,  761},
                 //{ 804, 1000,  804},
                 //{ 600,  941,  698},
                 //{ 325,  741,  624},
                 //{ 196,  651,  588},
                 //{ 196,  588,  706},
                 //{ 20,   439,  690},
                 //{ 20,   314,  549},
                 //{ 39,   122,  588},
                 //{ 173,    8,  275},
                 //{ 416,  173,  353}}
        //},
        //{ "Precipitation 12", 12,
                //{{ 714,  416,  157},
                 //{ 804,  522,  247},
                 //{ 882,  647,  392},
                 //{ 961,  804,  518},
                 //{ 961,  878,  620},
                 //{1000,  961,  729},
                 //{1000, 1000, 1000},
                 //{ 804, 1000,  804},
                 //{ 600,  941,  698},
                 //{ 325,  741,  624},
                 //{ 431,  667,  784},
                 //{  20,  439,  690},
                 //{   8,  220,  345}}
        //},
        //{ "Red-Yellow-Blue 03", 3,
                //{{ 988,  553,  349},
                 //{1000, 1000,  749},
                 //{ 569,  749,  859}}
        //},
        //{ "Red-Yellow-Blue 04", 4,
                //{{ 843,   98,  110},
                 //{ 992,  682,  380},
                 //{ 671,  851,  914},
                 //{ 173,  482,  714}}
        //},
        //{ "Red-Yellow-Blue 05", 5,
                //{{ 843,   98,  110},
                 //{ 992,  682,  380},
                 //{1000, 1000,  749},
                 //{ 671,  851,  914},
                 //{ 173,  482,  714}}
        //},
        //{ "Red-Yellow-Blue 06", 6,
                //{{ 843,  188,  153},
                 //{ 988,  553,  349},
                 //{ 996,  878,  565},
                 //{ 878,  953,  973},
                 //{ 569,  749,  859},
                 //{ 271,  459,  706}}
        //},
        //{ "Red-Yellow-Blue 07", 7,
                //{{ 843,  188,  153},
                 //{ 988,  553,  349},
                 //{ 996,  878,  565},
                 //{1000, 1000,  749},
                 //{ 878,  953,  973},
                 //{ 569,  749,  859},
                 //{ 271,  459,  706}}
        //},
        //{ "Red-Yellow-Blue 08", 8,
                //{{ 843,  188,  153},
                 //{ 957,  427,  263},
                 //{ 992,  682,  380},
                 //{ 996,  878,  565},
                 //{ 878,  953,  973},
                 //{ 671,  851,  914},
                 //{ 455,  678,  820},
                 //{ 271,  459,  706}}
        //},
        //{ "Red-Yellow-Blue 09", 9,
                //{{ 843,  188,  153},
                 //{ 957,  427,  263},
                 //{ 992,  682,  380},
                 //{ 996,  878,  565},
                 //{1000, 1000,  749},
                 //{ 878,  953,  973},
                 //{ 671,  851,  914},
                 //{ 455,  678,  820},
                 //{ 271,  459,  706}}
        //},
        //{ "Red-Yellow-Blue 10", 10,
                //{{ 647,    0,  149},
                 //{ 843,  188,  153},
                 //{ 957,  427,  263},
                 //{ 992,  682,  380},
                 //{ 996,  878,  565},
                 //{ 878,  953,  973},
                 //{ 671,  851,  914},
                 //{ 455,  678,  820},
                 //{ 271,  459,  706},
                 //{ 192,  212,  584}}
        //},
        //{ "Red-Yellow-Blue 11", 11,
                //{{ 647,    0,  149},
                 //{ 843,  188,  153},
                 //{ 957,  427,  263},
                 //{ 992,  682,  380},
                 //{ 996,  878,  565},
                 //{1000, 1000,  749},
                 //{ 878,  953,  973},
                 //{ 671,  851,  914},
                 //{ 455,  678,  820},
                 //{ 271,  459,  706},
                 //{ 192,  212,  584}}
        //},
        //{ "Semi-inf Haxby", 24,
                //{{1000, 1000, 1000},
                 //{ 816,  847,  984},
                 //{ 729,  773,  969},
                 //{ 561,  631,  945},
                 //{ 380,  478,  925},
                 //{   0,  153,  878},
                 //{  98,  396,  941},
                 //{  47,  506,  973},
                 //{  94,  686, 1000},
                 //{ 192,  745, 1000},
                 //{ 263,  792, 1000},
                 //{ 376,  882,  941},
                 //{ 412,  922,  882},
                 //{ 482,  922,  784},
                 //{ 541,  925,  682},
                 //{ 675,  961,  659},
                 //{ 804, 1000,  635},
                 //{ 875,  961,  553},
                 //{ 941,  925,  471},
                 //{ 969,  843,  404},
                 //{1000,  741,  337},
                 //{1000,  627,  267},
                 //{ 957,  455,  290},
                 //{ 933,  310,  302}}
        //},
        //{ "Temperature 18", 18,
                //{{  27,  118,  275},
                 //{  27,  184,  420},
                 //{  31,  341,  612},
                 //{ 129,  443,  710},
                 //{ 259,  573,  780},
                 //{ 353,  627,  804},
                 //{ 471,  749,  839},
                 //{ 667,  863,  902},
                 //{ 859,  961, 1000},
                 //{1000, 1000, 1000},
                 //{1000,  878,  878},
                 //{ 988,  733,  667},
                 //{ 988,  573,  447},
                 //{ 984,  416,  290},
                 //{ 941,  235,  169},
                 //{ 800,   94,  118},
                 //{ 651,   59,   78},
                 //{ 471,   39,   59},
                 //{ 373,    0,    0}}
        //},
        //{ "Temperature 19", 19,
                //{{  27,  118,  275},
                 //{  27,  184,  420},
                 //{  31,  322,  612},
                 //{ 129,  443,  710},
                 //{ 259,  573,  780},
                 //{ 353,  627,  804},
                 //{ 471,  749,  839},
                 //{ 667,  863,  902},
                 //{ 859,  961, 1000},
                 //{ 941,  988, 1000},
                 //{1000,  941,  961},
                 //{1000,  878,  878},
                 //{ 988,  733,  667},
                 //{ 988,  573,  447},
                 //{ 984,  416,  290},
                 //{ 941,  235,  169},
                 //{ 800,   94,  118},
                 //{ 651,   59,   78},
                 //{ 471,   39,   59},
                 //{ 373,    0,    0}}
        //},
        //{ "Wiki Ice/Greenland", 6,
                //{{ 969,  992,  996},
                 //{ 949,  973,  973},
                 //{ 898,  941,  949},
                 //{ 851,  906,  914},
                 //{ 812,  882,  894},
                 //{ 765,  859,  875}}
        //},
        //{ "Voxpop", 11,
                //{{ 612,  804,  863},
                 //{ 682,  839,  890},
                 //{ 753,  875,  914},
                 //{ 824,  910,  941},
                 //{ 894,  945,  965},
                 //{ 965,  980,  988},
                 //{ 996,  973,  973},
                 //{ 988,  918,  918},
                 //{ 980,  863,  863},
                 //{ 976,  808,  808},
                 //{ 969,  753,  753}}
        //}
//};



#define TRIPLET(id, co) \
        ramp[0]->rgb[co].r, ramp[0]->rgb[co].g, ramp[0]->rgb[co].b

struct palette_t *ramp[3];

void paint_ramp(int id);
PANEL *colortest_panel(void);
struct palette_t *ggrparse(const char *path);
void ggrtest(const char *path);


#endif
